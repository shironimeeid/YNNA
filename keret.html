<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>KAI Commuter</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.32/sweetalert2.css"
integrity="sha512-e+TwvhjDvKqpzQLJ7zmtqqz+5jF9uIOa+5s1cishBRfmapg7mqcEzEl44ufb04BXOsEbccjHK9V0IVukORmO8w=="
crossorigin="anonymous" referrerpolicy="no-referrer" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
integrity="sha512-L7MWcK7FNPcwNqnLdZq86lTHYLdQqZaz5YcAgE+5cnGmlw8JT03QB2+oxL100UeB6RlzZLUxCGSS4/++mNZdxw=="
crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div id="root">
        <header class="header-global">
            <div class="container inner-header-global">
                <button type="button" class="btn btn-warning" onclick="window.location.href='index4.html'">Home</button>
                <a href="/" class="flex items-center">
                 </a>
                
                <h1 style="text-align:center;">KAI Commuter</h1>
                <footer class="text-center py-3 mt-4">
                    &copy; 2023 PT. KAI Commuter Line Indonesia. All rights reserved. <p>
                    create by renn
                </footer>
            </div>
        </header>

        <div class="burger-container text-center mt-4">
        </div>

        <div class="container-fluid bg-grey-global mt-4">
            <div class="container">
                <nav class="nav nav-pills nav-fill nav-capsule-global mb-4">
                    <a class="nav-item nav-link active" href="">Jadwal Keberangkatan</a> 
                </nav>
                
                <div class="container cari-stasiun mt-3">
                    <div class="row justify-content-center">
                        <div class="col-12 col-md-6 mb-3">
                            <select class="form-select select-sta" id="st-to" aria-label="Cari Stasiun Tujuan">
                                <option selected>Cari Stasiun Tujuan</option>
                                <!-- Opsi stasiun -->
                            </select>
                        </div>
                        <div class="col-6 col-md-3 mb-3">
                            <p>Dari</p>
                            <select class="form-select" id="jam-from">
                                <option selected>-</option>
                                    <option value="00:00">00:00</option>
                                    <option value="01:00">01:00</option>
                                    <option value="02:00">02:00</option>
                                    <option value="03:00">03:00</option>
                                    <option value="04:00">04:00</option>
                                    <option value="05:00">05:00</option>
                                    <option value="06:00">06:00</option>
                                    <option value="07:00">07:00</option>
                                    <option value="08:00">08:00</option>
                                    <option value="09:00">09:00</option>
                                    <option value="10:00">10:00</option>
                                    <option value="11:00">11:00</option>
                                    <option value="12:00">12:00</option>
                                    <option value="13:00">13:00</option>
                                    <option value="14:00">14:00</option>
                                    <option value="15:00">15:00</option>
                                    <option value="16:00">16:00</option>
                                    <option value="17:00">17:00</option>
                                    <option value="18:00">18:00</option>
                                    <option value="19:00">19:00</option>
                                    <option value="20:00">20:00</option>
                                    <option value="21:00">21:00</option>
                                    <option value="22:00">22:00</option>
                                    <option value="23:00">23:00</option>

                                </select>
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <p>Sampai</p>
                                <select class="form-select" id="jam-to">
                                    <option selected>-</option>
                                    <option value="00:00">00:00</option>
                                    <option value="01:00">01:00</option>
                                    <option value="02:00">02:00</option>
                                    <option value="03:00">03:00</option>
                                    <option value="04:00">04:00</option>
                                    <option value="05:00">05:00</option>
                                    <option value="06:00">06:00</option>
                                    <option value="07:00">07:00</option>
                                    <option value="08:00">08:00</option>
                                    <option value="09:00">09:00</option>
                                    <option value="10:00">10:00</option>
                                    <option value="11:00">11:00</option>
                                    <option value="12:00">12:00</option>
                                    <option value="13:00">13:00</option>
                                    <option value="14:00">14:00</option>
                                    <option value="15:00">15:00</option>
                                    <option value="16:00">16:00</option>
                                    <option value="17:00">17:00</option>
                                    <option value="18:00">18:00</option>
                                    <option value="19:00">19:00</option>
                                    <option value="20:00">20:00</option>
                                    <option value="21:00">21:00</option>
                                    <option value="22:00">22:00</option>
                                    <option value="23:00">23:00</option>
                                </select>
                            </div>
                        </div>
	</div>
</div>                </div>

<div class="col-md-3">
    <br>
    <button class="submitBtn btn btn-secondary">Lihat</button>
</div>

	</div>
</div>
            <div class="container">
                <div class="row jadwal-response">

                </div>
            </div>
            <div class="modal fade" id="jadwalKereta" tabindex="-1" aria-labelledby="jadwalKeretaLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            <img src="https://commuterline.id/img/icon kereta.png" alt="">
                            <span class="jdwl-kode-krl">1799</span>
                        </div>
                        <div class="modal-body">
                            <h3 class="jdwl-sta-name">Jakarta Kota</h3>
                            <h4 class="jdwl-line-name" style="background-color: #222;">Tanjung Priuk Line</h4>
                            <div class="jdwl-response">
                                <ul class="jadwal-response-selector">
                                    <li>
                                        <div class="rspnse-sta"><span>Tanjung Priok</span></div>
                                        <div class="rspnse-time"><span>12.41</span></div>
                                    </li>
                                    <li>
                                        <div class="rspnse-sta"><span>Tanjung Priok</span></div>
                                        <div class="rspnse-time"><span>12.41</span></div>
                                    </li>
                                    <li class="transit">
                                        <div class="rspnse-sta"><span>Tanjung Priok</span></div>
                                        <div class="rspnse-time"><span>12.41</span></div>

                                        <div class="transitbox">

                                            <img src="https://commuterline.id/img/transit.png" alt="" class="transit">

                                            <div class="imgSeparate">
                                                <div style="background-color: red;">
                                                    <img src="https://commuterline.id/img/vector-krl.png" alt=""
                                                        class="color-vector">
                                                </div>
                                                <div style="background-color: blue;">
                                                    <img src="https://commuterline.id/img/vector-krl.png" alt=""
                                                        class="color-vector">
                                                </div>
                                            
             
    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" integrity="sha512-TawcSfIUO8yB0Or8FXEDW2X32Q71ZGAOYVVwe7n3EsoyQb+iMZbodI6RnQ4JDcItNoO3TmwP7/bD89vhQA4zTA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://commuterline.id/js/kci.js"></script>

        
    
            <script type="text/javascript">

            $(document).ready(function(){

                global();

            });

        </script>

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-5V1YVMV1B3"></script>
        <script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());
  		gtag('config', 'G-5V1YVMV1B3');
	</script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.32/sweetalert2.all.min.js"
        integrity="sha512-Urg8l2V5SUjMkg0IhnAJw1G0viVOVqOxsoa8jkkq5n7JA55bGWAYJME3Lap1q0SEWvtot2pOgoprTOib4jtpuw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript">
        $(document).ready(function() {

            $('.submitBtn').click(function() {

                var staVal = $('#st-to').val();
                var fromVal = $('#jam-from').val();
                var toVal = $('#jam-to').val();
                $.ajax({

                    url: "https://api-partner.krl.co.id/krlweb/v1/schedule?stationid=" + staVal +
                        "&timefrom=" + fromVal + "&timeto=" + toVal,
                    type: 'GET',
                    beforeSend: function(xhr) {
                        xhr.setRequestHeader('Authorization',
                            'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiMjJiYzZmNmE0YjdlZTdkMDY3YTA4YTVhMDEwNzAzMTkzMDZlNDU5ZTZhMzMzODMzNzhkYjk4YzUzMTdkYTkxMTU4MGM5OGVmM2IwMGE1YTgiLCJpYXQiOjE2NjE0OTg3NzksIm5iZiI6MTY2MTQ5ODc3OSwiZXhwIjoxNjkzMDM0Nzc5LCJzdWIiOiI1Iiwic2NvcGVzIjpbXX0.FcIO89FgYncw4-2-2ckrA6KBMwg7Q3WgH-OqU8DbNrhQO5rsH0Am2z7s-aW-XxtLLRv7JPm0nbT-tyms2L2En5rMZB9nkKukJ3QquBvj7dejF7hQMXATD3JpEvvZm8DqEanNjBOk9JKo5nkKqZow9FSFezPieK_Njb3R9BgAewNlBg24_ELi5AK7g96AdcR1KWg5SlQMa3EWNsaeuq0t5fg-30xFUTt7hJ4eO6EssKmbkHE5lKspXXoTB9QRN4u_DIpy14CfQPoCxVNrIFdnxv8qHa0ggdit5iRygVShygBE87w2wivEPAsEUsxLiNBvC6Lrt8QNSZ21bGPuyHVgZAe5LZvW7Mf5TaKF_E5JVdgTqQYus-W4SXBX2cqDtqVC68ec12NFj-vRg114HqfjFN5-yLOPECNAvvVwClaT3kEXsBTiKGhdDUlfwUjipjSBoZC2LV3GHmyp-K8sGQDm3iRcwHBzjIys6d93z2RDdjzKtp8E5aNnMGGe4SPy2YpwHjQ8J1QwGnZM33_d1U5LbajkKW09n2u3hnJWGYGGQvvGNRv2AFIx4fwE_FEuoldclZOrXmcyOmyn-GjRuUNWO-flEPFulnGFiU5wODjJ_2l4cLOg-omV6qSecB36NE0wcf1R1nFLqTtuol-jEOTtQX_97CLVq1RbvjxX_huUZY0'
                        );
                    },
                    dataType: 'json',
                    success: function(data) {
                        $('.jadwal-response').html('');
                        for (var i = 0; i < data.data.length; i++) {

                            $("<div class='col-md-2 col-2 icon-kode-kereta'>" +
    "<img src='https://commuterline.id/img/icon kereta.png' alt='' style='max-width: 50px; height: auto; display: block; margin: 0 auto;'>" +
    "<span class='kode-kereta' style='display: block; text-align: center; margin-top: 10px;'>" + data.data[i].train_id +
    "</span>" +
    "</div>" +
    "<div class='col-md-10 col-10 box-result-jadwal'><div class='sta-name'>" +
    "<h3>" + data.data[i].dest + "</h3>" +
    "<h4 style='background-color: " + data.data[i].color + "; color: white; padding: 5px; border-radius: 5px;'>" + data.data[i].ka_name + "</h4></div>" +
    "<div class='sta-time'><span class='time-est'>" + data.data[i].time_est.slice(0, -3) + "</span></div>" +
    "<div class='btn-lihat' style='margin-top: 10px;'><button type='button' class='btn btn-primary popup-kereta' data-bs-toggle='modal' data-bs-target='#jadwalKereta' data-value='" +
    data.data[i].train_id + "'>" +
    "<img src='https://commuterline.id/img/BUTTON LIHAT.png' alt='' style='max-width: 100px; height: auto;'>" +
    "</button></div>" +
    "</div>").appendTo($('.jadwal-response'));
}

                    },
                    error: function(error) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Maaf ',
                            text: 'Server Data Tidak Di Temukan',
                        })
                    }

                });
            });

            $.ajax({
                url: "https://api-partner.krl.co.id/krlweb/v1/krl-station",
                type: 'GET',
                beforeSend: function(xhr) {
                    xhr.setRequestHeader('Authorization',
                        'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiMjJiYzZmNmE0YjdlZTdkMDY3YTA4YTVhMDEwNzAzMTkzMDZlNDU5ZTZhMzMzODMzNzhkYjk4YzUzMTdkYTkxMTU4MGM5OGVmM2IwMGE1YTgiLCJpYXQiOjE2NjE0OTg3NzksIm5iZiI6MTY2MTQ5ODc3OSwiZXhwIjoxNjkzMDM0Nzc5LCJzdWIiOiI1Iiwic2NvcGVzIjpbXX0.FcIO89FgYncw4-2-2ckrA6KBMwg7Q3WgH-OqU8DbNrhQO5rsH0Am2z7s-aW-XxtLLRv7JPm0nbT-tyms2L2En5rMZB9nkKukJ3QquBvj7dejF7hQMXATD3JpEvvZm8DqEanNjBOk9JKo5nkKqZow9FSFezPieK_Njb3R9BgAewNlBg24_ELi5AK7g96AdcR1KWg5SlQMa3EWNsaeuq0t5fg-30xFUTt7hJ4eO6EssKmbkHE5lKspXXoTB9QRN4u_DIpy14CfQPoCxVNrIFdnxv8qHa0ggdit5iRygVShygBE87w2wivEPAsEUsxLiNBvC6Lrt8QNSZ21bGPuyHVgZAe5LZvW7Mf5TaKF_E5JVdgTqQYus-W4SXBX2cqDtqVC68ec12NFj-vRg114HqfjFN5-yLOPECNAvvVwClaT3kEXsBTiKGhdDUlfwUjipjSBoZC2LV3GHmyp-K8sGQDm3iRcwHBzjIys6d93z2RDdjzKtp8E5aNnMGGe4SPy2YpwHjQ8J1QwGnZM33_d1U5LbajkKW09n2u3hnJWGYGGQvvGNRv2AFIx4fwE_FEuoldclZOrXmcyOmyn-GjRuUNWO-flEPFulnGFiU5wODjJ_2l4cLOg-omV6qSecB36NE0wcf1R1nFLqTtuol-jEOTtQX_97CLVq1RbvjxX_huUZY0'
                    );
                },
                dataType: 'json',
                success: function(data) {
                    // alert(data.message);
                    $('#st-to').html('');
                    $('#st-to').append($('<option>', {
                        value: '',
                        text: 'Dari Stasiun Mana?'
                    }));
                    for (var i = 0; i < data.data.length; i++) {
                        if (data.data[i].fg_enable > 0) {
                            // alert('ada');
                            $("<option value='" + data.data[i].sta_id + "' />")
                                .text(data.data[i].sta_name)
                                .appendTo($('#st-to'));
                        } else {
                            $("<option value='" + data.data[i].sta_id + "' disabled />")
                                .text("------------" + data.data[i].sta_name + "------------")
                                .appendTo($('#st-to'));
                        }

                    }


                },
                error: function(xhr, options, error) {


                    $('#st-to').html('');
                    $('#st-to').append($('<option>', {
                        value: '',
                        text: 'Sampai Stasiun Mana?'
                    }));
                },
            });

                var getUrlParameter = function getUrlParameter(sParam) {
                    var sPageURL = window.location.search.substring(1),
                        sURLVariables = sPageURL.split('&'),
                        sParameterName,
                        i;

                    for (i = 0; i < sURLVariables.length; i++) {
                        sParameterName = sURLVariables[i].split('=');

                        if (sParameterName[0] === sParam) {
                            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[
                                1]);
                        }
                    }
                    return false;
                };

                var staVal = getUrlParameter('staValue');
                var fromVal = getUrlParameter('fromTime');
                var toVal = getUrlParameter('toTime');

                $('#st-to').val(staVal);
                $('#jam-from').val(fromVal);
                $('#jam-to').val(toVal);

                $.ajax({

                    // url: "https://api-partner.krl.co.id/krlweb/v1/schedule?stationid=BUA&timefrom=11:00&timeto=12:00" ,
                    url: "https://api-partner.krl.co.id/krlweb/v1/schedule?stationid=" + staVal +
                        "&timefrom=" + fromVal + "&timeto=" + toVal,
                    type: 'GET',
                    beforeSend: function(xhr) {
                        xhr.setRequestHeader('Authorization',
                            'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiMjJiYzZmNmE0YjdlZTdkMDY3YTA4YTVhMDEwNzAzMTkzMDZlNDU5ZTZhMzMzODMzNzhkYjk4YzUzMTdkYTkxMTU4MGM5OGVmM2IwMGE1YTgiLCJpYXQiOjE2NjE0OTg3NzksIm5iZiI6MTY2MTQ5ODc3OSwiZXhwIjoxNjkzMDM0Nzc5LCJzdWIiOiI1Iiwic2NvcGVzIjpbXX0.FcIO89FgYncw4-2-2ckrA6KBMwg7Q3WgH-OqU8DbNrhQO5rsH0Am2z7s-aW-XxtLLRv7JPm0nbT-tyms2L2En5rMZB9nkKukJ3QquBvj7dejF7hQMXATD3JpEvvZm8DqEanNjBOk9JKo5nkKqZow9FSFezPieK_Njb3R9BgAewNlBg24_ELi5AK7g96AdcR1KWg5SlQMa3EWNsaeuq0t5fg-30xFUTt7hJ4eO6EssKmbkHE5lKspXXoTB9QRN4u_DIpy14CfQPoCxVNrIFdnxv8qHa0ggdit5iRygVShygBE87w2wivEPAsEUsxLiNBvC6Lrt8QNSZ21bGPuyHVgZAe5LZvW7Mf5TaKF_E5JVdgTqQYus-W4SXBX2cqDtqVC68ec12NFj-vRg114HqfjFN5-yLOPECNAvvVwClaT3kEXsBTiKGhdDUlfwUjipjSBoZC2LV3GHmyp-K8sGQDm3iRcwHBzjIys6d93z2RDdjzKtp8E5aNnMGGe4SPy2YpwHjQ8J1QwGnZM33_d1U5LbajkKW09n2u3hnJWGYGGQvvGNRv2AFIx4fwE_FEuoldclZOrXmcyOmyn-GjRuUNWO-flEPFulnGFiU5wODjJ_2l4cLOg-omV6qSecB36NE0wcf1R1nFLqTtuol-jEOTtQX_97CLVq1RbvjxX_huUZY0'
                        );
                    },
                    dataType: 'json',
                    success: function(data) {
                        $('.jadwal-response').html('');
                        for (var i = 0; i < data.data.length; i++) {
                            $("<div class='col-md-2 col-2 icon-kode-kereta'>" +
                                "<img src='https://commuterline.id/img/icon kereta.png' alt=''>" +
                                "<span class='kode-kereta'>" + data.data[i].train_id + "</span>" +
                                "</div>" +
                                "<div class='col-md-10 col-10 box-result-jadwal'><div class='sta-name'>" +
                                "<h3>" + data.data[i].dest + "</h3>" +
                                "<h4 style='background-color: " + data.data[i].color + "'>" + data
                                .data[i].ka_name + "</h4></div>" +
                                "<div class='sta-time'><span class='time-est'>" + data.data[i]
                                .time_est.slice(0, -3) + "</span></div>" +
                                "<div class='btn-lihat'><button type='button' class='btn btn-primary popup-kereta' data-bs-toggle='modal' data-bs-target='#jadwalKereta' data-value='" +
                                data.data[i].train_id + "'>" +
                                "<img src='https://commuterline.id/img/BUTTON LIHAT.png' alt=''>" +
                                "</button></div>" +
                                "</div>").appendTo($('.jadwal-response'));
                        }
                    },
                    error: function(error) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Maaf ',
                            text: 'Server Data Tidak Di Temukan',
                        })
                    }

                });
            
            $('.jadwal-response').on('click', '.popup-kereta', function() {
                var trainVal = $(this).attr('data-value');
                // alert(trainVal);
                $.ajax({

                    url: "https://api-partner.krl.co.id/krlweb/v1/schedule-train?trainid=" +
                        trainVal,
                    type: 'GET',
                    beforeSend: function(xhr) {
                        xhr.setRequestHeader('Authorization',
                            'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIzIiwianRpIjoiMjJiYzZmNmE0YjdlZTdkMDY3YTA4YTVhMDEwNzAzMTkzMDZlNDU5ZTZhMzMzODMzNzhkYjk4YzUzMTdkYTkxMTU4MGM5OGVmM2IwMGE1YTgiLCJpYXQiOjE2NjE0OTg3NzksIm5iZiI6MTY2MTQ5ODc3OSwiZXhwIjoxNjkzMDM0Nzc5LCJzdWIiOiI1Iiwic2NvcGVzIjpbXX0.FcIO89FgYncw4-2-2ckrA6KBMwg7Q3WgH-OqU8DbNrhQO5rsH0Am2z7s-aW-XxtLLRv7JPm0nbT-tyms2L2En5rMZB9nkKukJ3QquBvj7dejF7hQMXATD3JpEvvZm8DqEanNjBOk9JKo5nkKqZow9FSFezPieK_Njb3R9BgAewNlBg24_ELi5AK7g96AdcR1KWg5SlQMa3EWNsaeuq0t5fg-30xFUTt7hJ4eO6EssKmbkHE5lKspXXoTB9QRN4u_DIpy14CfQPoCxVNrIFdnxv8qHa0ggdit5iRygVShygBE87w2wivEPAsEUsxLiNBvC6Lrt8QNSZ21bGPuyHVgZAe5LZvW7Mf5TaKF_E5JVdgTqQYus-W4SXBX2cqDtqVC68ec12NFj-vRg114HqfjFN5-yLOPECNAvvVwClaT3kEXsBTiKGhdDUlfwUjipjSBoZC2LV3GHmyp-K8sGQDm3iRcwHBzjIys6d93z2RDdjzKtp8E5aNnMGGe4SPy2YpwHjQ8J1QwGnZM33_d1U5LbajkKW09n2u3hnJWGYGGQvvGNRv2AFIx4fwE_FEuoldclZOrXmcyOmyn-GjRuUNWO-flEPFulnGFiU5wODjJ_2l4cLOg-omV6qSecB36NE0wcf1R1nFLqTtuol-jEOTtQX_97CLVq1RbvjxX_huUZY0'
                        );
                    },
                    dataType: 'json',
                    success: function(data) {

                        $('.jdwl-kode-krl').html('');
                        $('.jdwl-sta-name').html('');
                        $('.jdwl-line-name').html('');
                        $('.jadwal-response-selector').html('');

                        for (var i = 0; i < data.data.length; i++) {
                            $('.jdwl-kode-krl').text(data.data[i].train_id);
                            $('.jdwl-sta-name').text(data.data[i].station_name);
                            $('.jdwl-line-name').text(data.data[i].ka_name);
                            $('.jdwl-line-name').css('background-color', data.data[i].color);
                        }

                        for (var j = 0; j < data.data.length; j++) {
                            if (data.data[j].transit_station == true) {
                                var number = "dynamic-icon-" + j;
                                $("<li class='transit'>" +
                                    "<div class='rspnse-sta'><span>" + data.data[j]
                                    .station_name + "</span></div>" +
                                    "<div class='rspnse-time'><span>" + data.data[j]
                                    .time_est.slice(0, -3) + "</span></div>" +
                                    "<div class='transitbox'>" +
                                    "<img src='https://commuterline.id/img/transit.png' alt='' class='transit'>" +
                                    "<div class='imgSeparate' id='" + number + "' " +
                                    " >" +
                                    "</div>" +
                                    "</div>" +
                                    "</li>").appendTo($('.jadwal-response-selector'));
                                for (var k = 0; k < data.data[j].transit.length; k++) {
                                    $("<div style='background-color: " + data.data[j].transit[
                                            k] + ";'>" +
                                        "<img src='https://commuterline.id/img/vector-krl.png' alt='' class='color-vector' >" +
                                        "</div>").appendTo($("#" + number));
                                }

                            } else {
                                $("<li>" +
                                    "<div class='rspnse-sta'><span>" + data.data[j]
                                    .station_name + "</span></div>" +
                                    "<div class='rspnse-time'><span>" + data.data[j]
                                    .time_est.slice(0, -3) + "</span></div>" +
                                    "</li>").appendTo($('.jadwal-response-selector'));

                            }
                        }


                    },

                });
            })


             $(document).ready(function() {
        // Set dark mode based on time
        var hour = new Date().getHours();
        if (hour < 6 || hour > 18) {
            $('body').addClass('dark-mode').removeClass('light-mode');
        } else {
            $('body').addClass('light-mode').removeClass('dark-mode');
        }

        // Toggle dark/light mode on burger click
        $('#burger').click(function() {
            $('body').toggleClass('dark-mode light-mode');
        });
    });

        });
    </script>

</body>
</html>



<style>
    body {
        transition: background-color 0.5s ease, color 0.5s ease;
    }

    .dark-mode {
        background-color: #343a40;
        color: #ffffff;
    }

    .light-mode {
        background-color: #f8f9fa;
        color: #343a40;
    }

    .header-global {
        padding: 20px 0;
        background-color: #007bff;
        color: #ffffff;
    }

    .nav-capsule-global a {
        border-radius: 20px;
        margin: 0 5px;
    }

    .burger-container {
        position: absolute;
        top: 20px;
        right: 20px;
        cursor: pointer;
    }

    .bar {
        display: block;
        width: 25px;
        height: 3px;
        margin: 5px auto;
        transition: all 0.3s ease-in-out;
        background-color: #fff;
    }
    
    .bg-grey-global {
        padding: 20px;
        transition: background-color 0.5s ease;
    }
</style>
